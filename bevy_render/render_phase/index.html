<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The modular rendering abstraction responsible for queuing, preparing, sorting and drawing entities as part of separate render phases."><title>bevy_render::render_phase - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-081576b923113409.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="bevy_render" data-themes="" data-resource-suffix="" data-rustdoc-version="1.79.0 (129f3b996 2024-06-10)" data-channel="1.79.0" data-search-js="search-bf21c90c8c1d92b1.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-e32f0c247825364d.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-09095024cf37855e.css"></noscript><link rel="icon" href="https://bevyengine.org/assets/icon.png"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../bevy_render/index.html"><img src="https://bevyengine.org/assets/icon.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../bevy_render/index.html"><img src="https://bevyengine.org/assets/icon.png" alt="logo"></a><h2><a href="../../bevy_render/index.html">bevy_render</a><span class="version">0.14.0</span></h2></div><h2 class="location"><a href="#">Module render_phase</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate bevy_render</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../bevy_render/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Type ‘S’ or ‘/’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings">Settings</a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">bevy_render</a>::<wbr><a class="mod" href="#">render_phase</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/bevy_render/render_phase/mod.rs.html#1-1110">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The modular rendering abstraction responsible for queuing, preparing, sorting and drawing
entities as part of separate render phases.</p>
<p>In Bevy each view (camera, or shadow-casting light, etc.) has one or multiple render phases
(e.g. opaque, transparent, shadow, etc).
They are used to queue entities for rendering.
Multiple phases might be required due to different sorting/batching behaviors
(e.g. opaque: front to back, transparent: back to front) or because one phase depends on
the rendered texture of the previous phase (e.g. for screen-space reflections).</p>
<p>To draw an entity, a corresponding <a href="trait.PhaseItem.html" title="trait bevy_render::render_phase::PhaseItem"><code>PhaseItem</code></a> has to be added to one or multiple of these
render phases for each view that it is visible in.
This must be done in the <a href="../enum.RenderSet.html#variant.Queue" title="variant bevy_render::RenderSet::Queue"><code>RenderSet::Queue</code></a>.
After that the render phase sorts them in the <a href="../enum.RenderSet.html#variant.PhaseSort" title="variant bevy_render::RenderSet::PhaseSort"><code>RenderSet::PhaseSort</code></a>.
Finally the items are rendered using a single <a href="struct.TrackedRenderPass.html" title="struct bevy_render::render_phase::TrackedRenderPass"><code>TrackedRenderPass</code></a>, during
the <a href="../enum.RenderSet.html#variant.Render" title="variant bevy_render::RenderSet::Render"><code>RenderSet::Render</code></a>.</p>
<p>Therefore each phase item is assigned a <a href="trait.Draw.html" title="trait bevy_render::render_phase::Draw"><code>Draw</code></a> function.
These set up the state of the <a href="struct.TrackedRenderPass.html" title="struct bevy_render::render_phase::TrackedRenderPass"><code>TrackedRenderPass</code></a> (i.e. select the
<a href="../render_resource/struct.RenderPipeline.html" title="struct bevy_render::render_resource::RenderPipeline"><code>RenderPipeline</code></a>, configure the
<a href="../render_resource/struct.BindGroup.html" title="struct bevy_render::render_resource::BindGroup"><code>BindGroup</code></a>s, etc.) and then issue a draw call,
for the corresponding item.</p>
<p>The <a href="trait.Draw.html" title="trait bevy_render::render_phase::Draw"><code>Draw</code></a> function trait can either be implemented directly or such a function can be
created by composing multiple <a href="trait.RenderCommand.html" title="trait bevy_render::render_phase::RenderCommand"><code>RenderCommand</code></a>s.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.BinnedRenderPhase.html" title="struct bevy_render::render_phase::BinnedRenderPhase">BinnedRenderPhase</a></div><div class="desc docblock-short">A collection of all rendering instructions, that will be executed by the GPU, for a
single render phase for a single view.</div></li><li><div class="item-name"><a class="struct" href="struct.BinnedRenderPhaseBatch.html" title="struct bevy_render::render_phase::BinnedRenderPhaseBatch">BinnedRenderPhaseBatch</a></div><div class="desc docblock-short">Information about a single batch of entities rendered using binned phase
items.</div></li><li><div class="item-name"><a class="struct" href="struct.BinnedRenderPhasePlugin.html" title="struct bevy_render::render_phase::BinnedRenderPhasePlugin">BinnedRenderPhasePlugin</a></div><div class="desc docblock-short">A convenient abstraction for adding all the systems necessary for a binned
render phase to the render app.</div></li><li><div class="item-name"><a class="struct" href="struct.DrawFunctionId.html" title="struct bevy_render::render_phase::DrawFunctionId">DrawFunctionId</a></div><div class="desc docblock-short">An identifier for a <a href="trait.Draw.html" title="trait bevy_render::render_phase::Draw"><code>Draw</code></a> function stored in <a href="struct.DrawFunctions.html" title="struct bevy_render::render_phase::DrawFunctions"><code>DrawFunctions</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.DrawFunctions.html" title="struct bevy_render::render_phase::DrawFunctions">DrawFunctions</a></div><div class="desc docblock-short">Stores all draw functions for the <a href="trait.PhaseItem.html" title="trait bevy_render::render_phase::PhaseItem"><code>PhaseItem</code></a> type hidden behind a reader-writer lock.</div></li><li><div class="item-name"><a class="struct" href="struct.DrawFunctionsInternal.html" title="struct bevy_render::render_phase::DrawFunctionsInternal">DrawFunctionsInternal</a></div><div class="desc docblock-short">Stores all <a href="trait.Draw.html" title="trait bevy_render::render_phase::Draw"><code>Draw</code></a> functions for the <a href="trait.PhaseItem.html" title="trait bevy_render::render_phase::PhaseItem"><code>PhaseItem</code></a> type.</div></li><li><div class="item-name"><a class="struct" href="struct.PhaseItemExtraIndex.html" title="struct bevy_render::render_phase::PhaseItemExtraIndex">PhaseItemExtraIndex</a></div><div class="desc docblock-short">The “extra index” associated with some <a href="trait.PhaseItem.html" title="trait bevy_render::render_phase::PhaseItem"><code>PhaseItem</code></a>s, alongside the
indirect instance index.</div></li><li><div class="item-name"><a class="struct" href="struct.RenderCommandState.html" title="struct bevy_render::render_phase::RenderCommandState">RenderCommandState</a></div><div class="desc docblock-short">Wraps a <a href="trait.RenderCommand.html" title="trait bevy_render::render_phase::RenderCommand"><code>RenderCommand</code></a> into a state so that it can be used as a <a href="trait.Draw.html" title="trait bevy_render::render_phase::Draw"><code>Draw</code></a> function.</div></li><li><div class="item-name"><a class="struct" href="struct.SetItemPipeline.html" title="struct bevy_render::render_phase::SetItemPipeline">SetItemPipeline</a></div><div class="desc docblock-short">A <a href="trait.RenderCommand.html" title="trait bevy_render::render_phase::RenderCommand"><code>RenderCommand</code></a> that sets the pipeline for the <a href="trait.CachedRenderPipelinePhaseItem.html" title="trait bevy_render::render_phase::CachedRenderPipelinePhaseItem"><code>CachedRenderPipelinePhaseItem</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.SortedRenderPhase.html" title="struct bevy_render::render_phase::SortedRenderPhase">SortedRenderPhase</a></div><div class="desc docblock-short">A collection of all items to be rendered that will be encoded to GPU
commands for a single render phase for a single view.</div></li><li><div class="item-name"><a class="struct" href="struct.SortedRenderPhasePlugin.html" title="struct bevy_render::render_phase::SortedRenderPhasePlugin">SortedRenderPhasePlugin</a></div><div class="desc docblock-short">A convenient abstraction for adding all the systems necessary for a sorted
render phase to the render app.</div></li><li><div class="item-name"><a class="struct" href="struct.TrackedRenderPass.html" title="struct bevy_render::render_phase::TrackedRenderPass">TrackedRenderPass</a></div><div class="desc docblock-short">A <a href="../../wgpu/struct.RenderPass.html" title="struct wgpu::RenderPass"><code>RenderPass</code></a>, which tracks the current pipeline state to skip redundant operations.</div></li><li><div class="item-name"><a class="struct" href="struct.ViewBinnedRenderPhases.html" title="struct bevy_render::render_phase::ViewBinnedRenderPhases">ViewBinnedRenderPhases</a></div><div class="desc docblock-short">Stores the rendering instructions for a single phase that uses bins in all
views.</div></li><li><div class="item-name"><a class="struct" href="struct.ViewRangefinder3d.html" title="struct bevy_render::render_phase::ViewRangefinder3d">ViewRangefinder3d</a></div><div class="desc docblock-short">A distance calculator for the draw order of <a href="trait.PhaseItem.html" title="trait bevy_render::render_phase::PhaseItem"><code>PhaseItem</code></a>s.</div></li><li><div class="item-name"><a class="struct" href="struct.ViewSortedRenderPhases.html" title="struct bevy_render::render_phase::ViewSortedRenderPhases">ViewSortedRenderPhases</a></div><div class="desc docblock-short">Stores the rendering instructions for a single phase that sorts items in all
views.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.BinnedRenderPhaseType.html" title="enum bevy_render::render_phase::BinnedRenderPhaseType">BinnedRenderPhaseType</a></div><div class="desc docblock-short">Identifies the list within <a href="struct.BinnedRenderPhase.html" title="struct bevy_render::render_phase::BinnedRenderPhase"><code>BinnedRenderPhase</code></a> that a phase item is to be
placed in.</div></li><li><div class="item-name"><a class="enum" href="enum.RenderCommandResult.html" title="enum bevy_render::render_phase::RenderCommandResult">RenderCommandResult</a></div><div class="desc docblock-short">The result of a <a href="trait.RenderCommand.html" title="trait bevy_render::render_phase::RenderCommand"><code>RenderCommand</code></a>.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AddRenderCommand.html" title="trait bevy_render::render_phase::AddRenderCommand">AddRenderCommand</a></div><div class="desc docblock-short">Registers a <a href="trait.RenderCommand.html" title="trait bevy_render::render_phase::RenderCommand"><code>RenderCommand</code></a> as a <a href="trait.Draw.html" title="trait bevy_render::render_phase::Draw"><code>Draw</code></a> function.
They are stored inside the <a href="struct.DrawFunctions.html" title="struct bevy_render::render_phase::DrawFunctions"><code>DrawFunctions</code></a> resource of the app.</div></li><li><div class="item-name"><a class="trait" href="trait.BinnedPhaseItem.html" title="trait bevy_render::render_phase::BinnedPhaseItem">BinnedPhaseItem</a></div><div class="desc docblock-short">Represents phase items that are placed into bins. The <code>BinKey</code> specifies
which bin they’re to be placed in. Bin keys are sorted, and items within the
same bin are eligible to be batched together. The elements within the bins
aren’t themselves sorted.</div></li><li><div class="item-name"><a class="trait" href="trait.CachedRenderPipelinePhaseItem.html" title="trait bevy_render::render_phase::CachedRenderPipelinePhaseItem">CachedRenderPipelinePhaseItem</a></div><div class="desc docblock-short">A <a href="trait.PhaseItem.html" title="trait bevy_render::render_phase::PhaseItem"><code>PhaseItem</code></a> item, that automatically sets the appropriate render pipeline,
cached in the <a href="../render_resource/struct.PipelineCache.html" title="struct bevy_render::render_resource::PipelineCache"><code>PipelineCache</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.Draw.html" title="trait bevy_render::render_phase::Draw">Draw</a></div><div class="desc docblock-short">A draw function used to draw <a href="trait.PhaseItem.html" title="trait bevy_render::render_phase::PhaseItem"><code>PhaseItem</code></a>s.</div></li><li><div class="item-name"><a class="trait" href="trait.PhaseItem.html" title="trait bevy_render::render_phase::PhaseItem">PhaseItem</a></div><div class="desc docblock-short">An item (entity of the render world) which will be drawn to a texture or the screen,
as part of a render phase.</div></li><li><div class="item-name"><a class="trait" href="trait.RenderCommand.html" title="trait bevy_render::render_phase::RenderCommand">RenderCommand</a></div><div class="desc docblock-short"><a href="trait.RenderCommand.html" title="trait bevy_render::render_phase::RenderCommand"><code>RenderCommand</code></a>s are modular standardized pieces of render logic that can be composed into
<a href="trait.Draw.html" title="trait bevy_render::render_phase::Draw"><code>Draw</code></a> functions.</div></li><li><div class="item-name"><a class="trait" href="trait.SortedPhaseItem.html" title="trait bevy_render::render_phase::SortedPhaseItem">SortedPhaseItem</a></div><div class="desc docblock-short">Represents phase items that must be sorted. The <code>SortKey</code> specifies the
order that these items are drawn in. These are placed into a single array,
and the array as a whole is then sorted.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.sort_phase_system.html" title="fn bevy_render::render_phase::sort_phase_system">sort_phase_system</a></div><div class="desc docblock-short">This system sorts the <a href="trait.PhaseItem.html" title="trait bevy_render::render_phase::PhaseItem"><code>PhaseItem</code></a>s of all <a href="struct.SortedRenderPhase.html" title="struct bevy_render::render_phase::SortedRenderPhase"><code>SortedRenderPhase</code></a>s of this
type.</div></li></ul></section></div></main></body></html>